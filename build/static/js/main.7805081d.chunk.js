(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(45),l=n.n(c),o=n(46),i=n(47),u=n(4),s=n(50),m=n(52),f=n(53),h=n(28),d=n(27),p=n.n(d);String.prototype.format=function(){var e=0,t=arguments;return this.replace(/{}/g,(function(){return"undefined"!=typeof t[e]?t[e++]:""}))},Array.prototype.last=function(){return this[this.length-1]};var v={timeseries:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-{}.csv"},b=function(e){return e.split("\n").map((function(e){return e.split(",")}))},g=function(e){var t=e[0].slice(4).map((function(e){return new Date(e)})).map((function(e){return p()(e)})).map((function(e){return e.format("YYYY-MM-DD")}));e=e.slice(1),["China","US"].forEach((function(t){var n=e.filter((function(e){return e[1]===t})).reduce((function(e,t){var n=Object(h.a)(t);if(0===e.length)return n;n[0]="SUMATORIA";for(var a=4;a<t.length;a++)n[a]=parseInt(n[a])+parseInt(e[a]);return n}),[]);e.unshift(n)}));var n=e.filter((function(e){return["Spain","France","Italy","Germany","Portugal","Austria","Belgium","Netherlands"].includes(e[1])})).reduce((function(e,t){var n=Object(h.a)(t);if(0===e.length)return n;n[1]="UE - Parcial",n[0]="SUMATORIA";for(var a=4;a<t.length;a++)n[a]=parseInt(n[a])+parseInt(e[a]);return n}),[]);return e.unshift(n),{labels:t,values:e.map((function(e){return{label:e[1]+(e[0]?" / "+e[0]:""),checked:!1,last:e.last(),values:e.slice(4)}}))}},E=function(e,t,n){t=t||function(){},n=n||function(){};var a={title:"TimeLine for "+e,url:v.timeseries.format(e)};fetch(a.url).then((function(e){return e.text()})).then((function(e){return b(e)})).then((function(e){return g(e)})).then((function(e){return Object(f.a)({},a,{},e)})).then(t).catch(n)},C=n(51);var k=function(e){var t=e.countries,n=e.times,c=e.type,l=e.from,o=e.onChangeFrom,i=e.onChangeCheck,u=e.onChangeType,s=e.onClickReset,m=Object(a.useState)(""),f=Object(C.a)(m,2),h=f[0],d=f[1],p=t||[];return h&&(p=p.filter((function(e){var t=e.label||"";return(t=t.toUpperCase()).includes(h.toUpperCase())}))),r.a.createElement("div",{className:"list-group"},r.a.createElement("table",{className:"table table-responsive table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mode"),r.a.createElement("th",{colSpan:"2"},r.a.createElement("select",{name:"type",className:"form-control form-control-sm",defaultValue:c,onChange:u},r.a.createElement("option",{value:"Confirmed"},"Confirmed"),r.a.createElement("option",{value:"Deaths"},"Deaths"),r.a.createElement("option",{value:"Recovered"},"Recovered")))),r.a.createElement("tr",null,r.a.createElement("th",null,"From"),r.a.createElement("th",{colSpan:"2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("select",{name:"type",className:"form-control form-control-sm",value:l,onChange:o},n.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:function(e){e.currentTarget.value=n[0],o(e)}},"Clear"))))),r.a.createElement("tr",null,r.a.createElement("th",null,"View"),r.a.createElement("th",{colSpan:"2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"filter",className:"form-control form-control-sm",type:"text",defaultValue:h,onChange:function(e){d(e.currentTarget.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:s},"Clear")))))),r.a.createElement("tbody",null,p.map((function(e,t){return r.a.createElement("tr",{key:e.label},r.a.createElement("th",null,r.a.createElement("input",{name:e.label,type:"checkbox",checked:e.checked,onChange:i})),r.a.createElement("td",null,e.label),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-danger"},e.last)))})))))},y=n(48),O=["#FF6384","#36A2EB","#FFCE56","#fdfd98","#85a8ba","#eee0c9","#f1f0e8","#b29dd9","#fe6b64","#77dd77","#779ecb","#90c978","#83c6dd","#5db1d1","#98e690","#ebceed","#afd5aa","#d9ffff"];var S=function(e){var t=e.values,n=e.times,a=e.from,c=0;a&&(c=n.indexOf(a));var l={labels:n.slice(c)};return l.datasets=t.filter((function(e){return e.checked})).map((function(e,t){return{label:e.label,data:e.values.slice(c),fill:!1,borderColor:O[t%O.length],backgroundColor:O[t%O.length]}})),r.a.createElement("div",null,r.a.createElement(y.a,{data:l}))},N=(n(153),function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={type:"Confirmed",from:"2020-01-01",times:["01","02","03","04","05"],countries:[{label:"line 1",checked:!0,values:[5,15,2,30,5]},{label:"line 2",checked:!0,values:[50,5,20,30,50]}]},a.onChangeCheck=a.onChangeCheck.bind(Object(u.a)(a)),a.onChangeFrom=a.onChangeFrom.bind(Object(u.a)(a)),a.onChangeType=a.onChangeType.bind(Object(u.a)(a)),a.onClickReset=a.onClickReset.bind(Object(u.a)(a)),a.reloadGraph=a.reloadGraph.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"onChangeCheck",value:function(e){var t=this.state.countries,n=e.currentTarget;t.filter((function(e){return e.label===n.name})).forEach((function(e){return e.checked=n.checked})),this.setState({countries:t})}},{key:"onChangeType",value:function(e){var t=e.currentTarget.value;this.setState({type:t}),this.reloadGraph()}},{key:"onChangeFrom",value:function(e){var t=e.currentTarget.value;this.setState({from:t})}},{key:"onClickReset",value:function(){var e=this.state.countries;e.forEach((function(e){e.checked=!1})),this.setState({countries:e})}},{key:"componentDidMount",value:function(){var e=this,t=this.state;E(t.type,(function(n){t.times=n.labels,t.countries=n.values,t.from="2020-03-10",t.countries.filter((function(e){return"Bolivia"===e.label})).forEach((function(e){e.checked=!0})),e.setState(t)}))}},{key:"componentDidUpdate",value:function(){}},{key:"reloadGraph",value:function(){var e=this,t=this.state;E(t.type,(function(n){t.times=n.labels,t.countries=n.values,e.setState(t),e.forceUpdate()}))}},{key:"render",value:function(){var e=this.state,t=e.countries,n=e.type,a=e.times,c=e.from;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"COVID-19 TimeLine"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-9 col-xl-10"},r.a.createElement(S,{values:t,times:a,from:c})),r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-3 col-xl-2"},r.a.createElement(k,{countries:t,times:a,type:n,from:c,onChangeCheck:this.onChangeCheck,onChangeType:this.onChangeType,onChangeFrom:this.onChangeFrom,onClickReset:this.onClickReset}))))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,n){e.exports=n(154)}},[[54,1,2]]]);
//# sourceMappingURL=main.7805081d.chunk.js.map